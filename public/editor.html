<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Editor</title>
  <meta name="google-signin-client_id" content="361874213844-33mf5b41pp4p0q38q26u8go81cod0h7f.apps.googleusercontent.com">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <!--<link rel="stylesheet" href="/static/css/editor.css">-->
  <script src="https://apis.google.com/js/platform.js?onload=initAuth" async defer></script>
</head>
<body>
  
<script>
  var cId = "361874213844-33mf5b41pp4p0q38q26u8go81cod0h7f.apps.googleusercontent.com"
  var s = "profile email https://www.googleapis.com/auth/drive.readonly";
  var rType = "id_token permission";
  var googleLogin = function(scope, responseType) {
    return function(success,error) {
        gapi.auth2.authorize(
            { scope: scope
            , response_type: responseType
            }, function(response) {
                if (response.error) {
                    error(response.error);
                    return;
                }
                success(
                    { accessToken: response.access_token
                    , idToken: response.id_token
                    }
                );
            });
        };
}
  function initAuth() {
    console.log("huzzah!");
    gapi.load('auth2', function() {
        gapi.auth2.init();
    });
  }
  function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      console.log('User signed out.');
    });
  }
</script>
  <script>
    function onSignIn(googleUser) {
      window.googleUser = googleUser;
      // PS["Editor.Main"].main(googleUser.Zi.access_token)();
  // var profile = googleUser.getBasicProfile();
  // console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
  // console.log('Name: ' + profile.getName());
  // console.log('Image URL: ' + profile.getImageUrl());
  // console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
  // var id_token = googleUser.getAuthResponse().id_token;
  // console.log(id_token);
  // var xhr = new XMLHttpRequest();
  // xhr.open('GET', 'https://www.googleapis.com/oauth2/v3/tokeninfo?id_token='+id_token);
  // xhr.onload = function() {
  //   console.log('Signed in as: ' + xhr.responseText);
  // };
  // xhr.send();
  // xhr.open('GET', 'https://www.googleapis.com/drive/v3/files/1DT-VPJMPG_ZsOuQHrwq13hfrraHQ1f9r_qYgaT-bx74/export?mimeType=text%2Fhtml&key=AIzaSyBbo919OET_4fZ7XL14prcl1mhy0lthjKI&access_token='+googleUser.Zi.access_token);
  // xhr.onload = function() {
  //   document.getElementById("wow").innerHTML = xhr.responseText;
  // };
  // xhr.send();
}
  </script>
  <script src="/static/build/js/editor.min.js"></script>
</body>
</html>
